{"version":3,"sources":["GameCanvas.js","components/container.js","hooks/useInterval.js","GameGraph.js","components/index.js","GameHeader.js","Game.js","components/PageWrapper.js","components/PlayerScoreboard.js","components/Table.js","components/RecentGames.js","HomePage.js","components/nav_bar.js","PlayerPage.js","App.js","index.js"],"names":["stars_buffer","planets_buffer","last_gameId","Container","withStyles","theme","root","maxWidth","margin","classes","className","children","classnames","useInterval","callback","delay","start","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","GameGraph","memo","game","turn","dispatch","show","arwesShow","data","label","color","maxY","idx","length","round","fleets","fi","fleet","owner_id","ships","pi","planets","planet","player_id","push","x","y","Math","max","VictoryTheme","material","axis","style","stroke","tickLabels","fill","grid","width","containerComponent","cursorLabelComponent","display","cursorDimension","onCursorChange","d","type","value","ceil","map","key","strokeWidth","animate","withCoolSounds","InnerComp","withSounds","props","sounds","players","SoundWords","Button","Words","GameHeader","themes","heading","gameName","flexGrow","loadingElo","marginRight","info","history","layer","href","onClick","finished","marginLeft","elodiff","Number","toFixed","small","BASE_URL","default_shades","player1_shades","player2_shades","GameCanvas","gameId","ref","undefined","canvas","getComputedStyle","getPropertyValue","slice","height","document","createElement","c","getContext","n_stars","floor","random","n","r","beginPath","fillStyle","moveTo","arc","PI","bc","translate","total_production","production","sqrt","alpha","i","beta","closePath","clearRect","drawImage","planet_r","log","globalAlpha","total_ships","dx","target","origin","dy","done","eta","save","rotate","atan2","lineTo","restore","game_over","winner","font","textAlign","textBaseline","fillText","render","computeRoundData","add","a","b","join","reducer","state","action","min","playback","console","Error","Game","frames","marginTop","header","paddingLeft","padding","frameContent","span","controls","justifyContent","controlElements","cursor","showLatest","useParams","playerName","useReducer","useHistory","useState","setInfo","loadLatestGameForPlayer","useCallback","fetch","json","last","loadLatestGame","lastGameId","last_games","game_id","loadInfo","loadGameData","level","corners","anim","entered","icon","faChevronLeft","size","fixedWidth","faPauseCircle","faPlay","faChevronRight","headers","dataset","PageWrapper","PlayerScoreboard","firstPlace","textTransform","title","scoreboardData","isGlobalRanking","displayedTableItems","setDisplayedTableItems","refDisplayedTableItems","node","entry","index","Table","styles","Animation","animation","minWidth","etc","cls","cx","timeout","animTime","status","filter","item","index2","defaultProps","AnimationComponent","RecentGames","versusColumnEntry","eloLost","secondary","light","lastGamesData","focusedPlayer","player1","player2","leftPlayer","rightPlayer","elodelta","HomePageRecentGamesTitle","recentGamesContainer","latestLink","HomePageFrameContent","gameData","useDebounce","delayedShow","delayedShow2","num_games","toString","s","m","l","highscores","HomePage","setGameData","loadData","names","NavBar","marginBottom","container","logo","headingText","paddingTop","linkContainer","alignItems","link","linkIcon","name","setName","faSatellite","faRocket","PlayerPage","summary","rankLoading","showContent","setShowContent","setTimeout","playerData","setPlayerData","rank","username","ask","Howl","src","process","click","deploy","error","information","typing","warning","audio","mute","App","wrapperAnimEntered","path","AppWrapper","createTheme","background","pattern","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.640bc8a9.chunk.js","sourcesContent":["import React, {useEffect, useRef, memo} from 'react';\n\nlet stars_buffer;\nlet planets_buffer;\nlet last_gameId;\n\nconst default_shades = [\"#BFBBB8\", \"#E4E0DC\", \"#807D7A\", ];\nconst player1_shades = [\"#00BF0A\",\"#00E60B\", \"#004003\"];\nconst player2_shades = [\"#BF0020\", \"#E60028\", \"#800015\",];\n\nexport const GameCanvas = memo(({turn, info, gameId}) => {\n    let ref = useRef();\n\n    useEffect(() => {\n        if (!turn || !info || gameId === undefined) {\n            return;\n        }\n\n        if (gameId !== last_gameId) {\n           stars_buffer = null;\n           planets_buffer = null;\n           last_gameId = gameId;\n        }\n\n        let canvas = ref.current;\n\n        let width = getComputedStyle(canvas).getPropertyValue('width').slice(0, -2);\n        let height = getComputedStyle(canvas).getPropertyValue('height').slice(0, -2);\n\n        canvas.width = width;\n        canvas.height = height;\n        canvas.style.width = `${width}px`;\n        canvas.style.height = `${height}px`;\n\n        const size_scale = 15;\n        const planet_canvas_size = 50;\n        const fleet_canvas_size = 5;\n        const max_production = 18;\n        const star_size = 4;\n\n        // Off-screen canvas for stars\n        if (!stars_buffer) {\n            stars_buffer = document.createElement('canvas');\n            stars_buffer.width = width;\n            stars_buffer.height = height;\n            const c = stars_buffer.getContext(\"2d\");\n            const n_stars = Math.floor(50 + Math.random()*50);\n            for (let n = 0; n < n_stars; n++) {\n                const x = Math.random()*width;\n                const y = Math.random()*height;\n                const r = Math.random() * star_size / 2;\n                c.beginPath();\n                c.fillStyle = \"white\";\n                c.moveTo(x, y);\n                c.arc(x, y, r, 0, 2*Math.PI, false);\n                c.fill();\n            }\n        }\n\n\n        // Off-screen canvas for planets\n        if (!planets_buffer && turn && turn.planets) {\n            planets_buffer = document.createElement('canvas');\n            planets_buffer.width = width;\n            planets_buffer.height = height;\n            const bc = planets_buffer.getContext(\"2d\");\n            bc.translate(width/2, height/2);\n\n            const planets = turn.planets;\n            for (let idx = 0; idx < planets.length; idx++) {\n                const planet = planets[idx];\n                const total_production = planet.production[0] + planet.production[1] + planet.production[2];\n                const r = Math.sqrt(total_production / (max_production*2)) * planet_canvas_size;\n                let alpha = - Math.PI/2;\n                for (let i = 0; i < 3; i++) {\n                    const beta = alpha + 2 * Math.PI * (planet.production[i]/total_production);\n                    bc.fillStyle = default_shades[i];\n                    bc.beginPath();\n                    bc.moveTo(\n                        planet.x * -size_scale,\n                        planet.y * size_scale\n                    );\n                    bc.arc(\n                        planet.x * -size_scale,\n                        planet.y * size_scale,\n                        r,\n                        alpha,\n                        beta,\n                        false\n                    );\n                    bc.closePath();\n                    bc.fill();\n                    alpha = beta;\n                }\n            }\n        }\n\n\n        const render = () => {\n            const c = canvas.getContext(\"2d\");\n            c.translate(width/2, height/2);\n\n            c.clearRect(-canvas.width/2,-canvas.height/2,canvas.width,canvas.height);\n            if (!turn || !turn.planets) return;\n\n            c.drawImage(stars_buffer, -canvas.width/2, -canvas.height/2);\n\n            const planets = turn.planets;\n            for (let idx = 0; idx < planets.length; idx++) {\n                const planet = planets[idx];\n                const total_production = planet.production[0] + planet.production[1] + planet.production[2];\n                const planet_r = Math.sqrt(total_production / (max_production*2)) * planet_canvas_size;\n\n                // ship numbers per type\n                for (let type = 0; type < 3; type++) {\n                    const r = Math.log(planet.ships[type] / max_production + 1) * fleet_canvas_size + planet_r + 2;\n                    c.beginPath();\n                    c.fillStyle = [default_shades, player1_shades, player2_shades][planet.owner_id][type];\n                    c.moveTo(\n                        planet.x * -size_scale,\n                        planet.y * size_scale\n                    );\n                    c.arc(\n                        planet.x * -size_scale,\n                        planet.y * size_scale,\n                        r, Math.PI * (2/3 * type - 0.5), Math.PI * (2/3*(type+1) - 0.5), false);\n                    c.fill();\n                }\n\n                // separator between ships and planet\n                c.beginPath();\n                c.fillStyle = \"black\";\n                c.moveTo(\n                    planet.x * -size_scale,\n                    planet.y * size_scale\n                );\n                c.arc(\n                    planet.x * -size_scale,\n                    planet.y * size_scale,\n                    planet_r + 2, 0, 2 * Math.PI, false);\n                c.fill();\n            }\n\n            c.drawImage(planets_buffer, -canvas.width/2, -canvas.height/2);\n\n            // semi-transparent planet owner overlay\n            c.globalAlpha = 0.4;\n            for (let idx = 0; idx < planets.length; idx++) {\n                const planet = planets[idx];\n                if (planet.owner_id !== 0) {\n                    const total_production = planet.production[0] + planet.production[1] + planet.production[2];\n                    const planet_r = Math.sqrt(total_production / (max_production*2)) * planet_canvas_size;\n                    c.beginPath();\n                    c.fillStyle = [\"invalid\", \"green\", \"red\"][planet.owner_id];\n                    c.moveTo(\n                        planet.x * -size_scale,\n                        planet.y * size_scale\n                    );\n                    c.arc(\n                        planet.x * -size_scale,\n                        planet.y * size_scale,\n                        planet_r, 0, 2 * Math.PI, false);\n                    c.fill();\n                }\n            }\n            c.globalAlpha = 1;\n\n            const fleets = turn.fleets;\n            for (let idx = 0; idx < fleets.length; idx++) {\n                const fleet = fleets[idx];\n                const total_ships = fleet.ships[0] + fleet.ships[1] + fleet.ships[2];\n                if (total_ships === 0) {\n                    continue;\n                }\n\n                const dx = planets[fleet.target].x - planets[fleet.origin].x;\n                const dy = planets[fleet.target].y - planets[fleet.origin].y;\n                const d = Math.ceil(Math.sqrt(dx * dx + dy * dy));\n                const tl = (fleet.eta + 1) - turn.round;\n                const done = 1 - (tl / d);\n                const x = planets[fleet.origin].x + done * dx;\n                const y = planets[fleet.origin].y + done * dy;\n                const r = Math.sqrt(total_ships / (max_production*2)) * fleet_canvas_size;\n\n                c.save();\n                c.translate(x * -size_scale, y * size_scale);\n                c.rotate(Math.atan2(dx,dy));\n\n                // Triangle\n                c.beginPath();\n                c.fillStyle = [\"invalid\", \"green\", \"red\"][fleet.owner_id];\n                c.moveTo(-(r+1),0);\n                c.lineTo(0,2*r);\n                c.lineTo( (r+1),0);\n                c.closePath();\n                c.fill();\n\n                c.beginPath();\n                c.moveTo(0,0);\n                c.arc(0,0,r+1,Math.PI,0,false);\n                c.closePath();\n                c.fill();\n\n                // Pie-Chart at the end\n                let alpha = Math.PI;\n                for (let i = 0; i < 3; i++) {\n                    const beta = alpha + Math.PI * (fleet.ships[i]/total_ships);\n                    c.fillStyle = default_shades[i];\n                    c.beginPath();\n                    c.moveTo(0,0);\n                    c.arc(0,0,r,alpha,beta,false);\n                    c.closePath();\n                    c.fill();\n                    alpha = beta;\n                }\n                c.restore();\n            }\n\n            // Last round\n            if (turn.game_over) {\n                let winner = turn.winner;\n                if (!winner) {\n                    winner = 0\n                }\n                c.fillStyle = [\"lightgrey\", player1_shades[1], player2_shades[1]][winner];\n                c.font = \"bold 60px sans-serif\";\n                c.textAlign = \"center\";\n                c.textBaseline = \"ideographic\";\n                c.fillText([\n                    \"draw!\",\n                    info[\"player1\"] + \" wins!\",\n                    info[\"player2\"] + \" wins!\"\n                ][winner], 0, 0);\n            }\n        };\n\n        render();\n    });\n\n    return (\n            <canvas\n                ref={ref}\n                width={1200}\n                height={500} />\n    );\n});","import {withStyles} from '@arwes/arwes';\nimport React from 'react';\nimport classnames from 'classnames';\n\nconst styles = theme => ({\n    root: {\n        maxWidth: 1216,\n        margin: '0 auto',\n    },\n});\n\nexport const Container = withStyles(styles)(({classes, className, children}) => {\n    return <div className={classnames(classes.root, className)}>{children}</div>;\n});\n","import { useEffect, useRef } from \"react\";\n\nexport const useInterval = (callback, delay, start) => {\n  const savedCallback = useRef();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback, start]);\n\n  useEffect(() => {\n      if (start) callback();\n  }, []);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n};\n","import React, {memo} from 'react';\n\nimport {Loading} from '@arwes/arwes';\nimport {VictoryCursorContainer, VictoryChart, VictoryTheme, VictoryLine} from \"victory\";\n\nexport const GameGraph = memo(({game, turn, dispatch, show, arwesShow}) => {\n    const data = [{\n        label: 'neutral',\n        color: '#ccc',\n        data: []\n    }, {\n        label: 'player1',\n        color: '#6f6',\n        data: []\n    }, {\n        label: 'player2',\n        color: '#f66',\n        data: []\n    }];\n\n    let maxY = 0;\n    if (game) {\n        for (let idx = 0; idx < game.length; idx++) {\n            const round = game[idx];\n            const fleets = [0, 0, 0];\n            for (let fi = 0; fi < round.fleets.length; fi++) {\n                const fleet = round.fleets[fi];\n                fleets[fleet.owner_id] += fleet.ships[0] + fleet.ships[1] + fleet.ships[2];\n            }\n            for (let pi = 0; pi < round.planets.length; pi++) {\n                const planet = round.planets[pi];\n                fleets[planet.owner_id] += planet.ships[0] + planet.ships[1] + planet.ships[2];\n            }\n            for (let player_id = 0; player_id <= 2; player_id++) {\n                data[player_id].data.push({x: idx, y: fleets[player_id]});\n                maxY = Math.max(maxY, fleets[player_id]);\n            }\n        }\n    }\n\n    const theme = VictoryTheme.material;\n    theme.axis.style.axis.stroke = \"#8bebfe\";\n    theme.axis.style.tickLabels.fill = \"#8bebfe\";\n    theme.axis.style.grid.stroke = \"#ccc\";\n\n\n    return (\n        show && game ?\n            <VictoryChart theme={VictoryTheme.material} width={1200}\n                          containerComponent={\n                              <VictoryCursorContainer cursorLabelComponent={<div style={{display: \"none\"}} />}\n                                                      cursorDimension=\"x\"\n                                                      onCursorChange={d => d && dispatch({type: 'setMove', value: Math.ceil(d)})} />\n                          }>\n                {data.map((d, idx) =>\n                    (<VictoryLine\n                        style={{ data: { stroke: d.color } }}\n                        data={d.data}\n                        key={idx}\n                    />))}\n                <VictoryLine\n                    style={{data: { stroke: \"#8bebfe\", strokeWidth: \"4px\"}}}\n                    data={[{x:turn, y:0}, {x:turn, y: maxY}]}\n                />\n            </VictoryChart>\n            :\n            arwesShow && <Loading animate/> || null\n    );\n});","import { Button, Words } from '@arwes/arwes';\nimport React from 'react';\n\nimport { withSounds } from \"@arwes/sounds\";\n\nconst withCoolSounds = () => InnerComp =>\n  withSounds()(props => <InnerComp {...props} sounds={props.players} />);\n\nexport const SoundButton = withCoolSounds()(Button);\nexport const SoundWords = withCoolSounds()(Words);\n\n// Links don't do sound\n// export const SoundLink = withCoolSounds()(Link);\n","import React from 'react';\nimport {BASE_URL} from \"./Game\";\nimport {Loading, Words, Link, withStyles} from \"@arwes/arwes\";\nimport {SoundWords} from \"./components\";\n\nconst styles = themes => {\n    return {\n        heading: {\n            display: \"flex\",\n        },\n        gameName: {\n            flexGrow: \"1\"\n        },\n        loadingElo: {\n            marginRight: themes.margin\n        }\n    };\n};\n\nexport const GameHeader = withStyles(styles)(({info, history, className, classes, show, arwesShow}) => {\n    return info ?\n        (\n            <div className={className}>\n                <div>\n                    <h2 className={classes.heading}>\n                        <span className={classes.gameName}>\n                            <SoundWords animate layer='primary' show={show}>Game #</SoundWords>\n                            <Link href=\"javascript:void(0)\" onClick={() => history.push(`/game/${info[\"game_id\"]}`)}>{info[\"game_id\"]}</Link>:&nbsp;\n                            <Link href=\"javascript:void(0)\" onClick={() => history.push(\"/player/\" + info[\"player1\"])}>\n                                <Words animate layer='success' show={show}>{info['player1']}</Words>\n                            </Link>\n                            {\" \"}<sub>vs</sub>{\" \"}\n                            <Link href=\"javascript:void(0)\" onClick={() => history.push(\"/player/\" + info[\"player2\"])}>\n                                <Words animate layer='alert' show={show}>{info['player2']}</Words>\n                            </Link>\n                            {\" \"}\n                            {info.finished &&\n                            <span style={{marginLeft: \"40px\"}}>\n                                {\"Elo diff: \"}\n                                <Words animate layer='success' show={show}>{info['player1']}</Words>\n                                {\" \"}\n                                <Words layer={info.elodiff > 0 ? 'primary': 'secondary'}>\n                                    {(info.elodiff > 0 ? \"+\" : \"\") + Number(info.elodiff).toFixed(3)}\n                                </Words>\n                                {\", \"}\n                                 <Words animate layer='alert' show={show}>{info['player2']}</Words>\n                                {\" \"}\n                                <Words layer={-info.elodiff > 0 ? 'primary': 'secondary'}>\n                                    {(-info.elodiff > 0 ? \"+\" : \"\") + Number(-info.elodiff).toFixed(3)}\n                                </Words>\n                            </span>\n                            }\n                        </span>\n                        {!info.finished && <Loading animate small className={classes.loadingElo}/> }\n                    </h2>\n                </div>\n                <p>\n                    <Words animate layer='primary' show={show}>\n                        {`${info[\"player1\"]} currently has rank`}\n                    </Words>\n                    {\" \"}\n                    <b>\n                        <Words animate layer={info[\"rank1\"] <= 3 ? 'success' : 'primary'} show={show}>\n                            {`#${info[\"rank1\"]}`}\n                        </Words>\n                    </b>\n                    <Words animate layer='primary' show={show}>\n                        {`, ${info[\"player2\"]} currently has rank`}\n                    </Words>\n                    {\" \"}\n                    <b>\n                        <Words animate layer={info[\"rank2\"] <= 3 ? 'success' : 'primary'} show={show}>\n                            {`#${info[\"rank2\"]}`}\n                        </Words>\n                    </b>\n                    <Link href={`${BASE_URL}/${info[\"game_log_name\"]}`} style={{marginLeft: \"20px\"}}>\n                        <Words animate show={show}>raw gamelog</Words>\n                    </Link>\n                </p>\n            </div>\n        ) :\n        arwesShow && <Loading animate/> || null\n});","import React, {useState, useReducer, useCallback, useEffect} from 'react';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {\n    faChevronLeft,\n    faChevronRight,\n    faPlay,\n    faPauseCircle\n} from '@fortawesome/free-solid-svg-icons';\n\nimport {Table, Frame, Button, Loading, Project, Words, Link, withStyles } from \"@arwes/arwes\";\nimport {Container} from \"./components/container\";\nimport {useHistory, useParams} from \"react-router\";\nimport {useInterval} from \"./hooks/useInterval\";\nimport {GameGraph} from \"./GameGraph\";\nimport {GameHeader} from \"./GameHeader\";\nimport {GameCanvas} from \"./GameCanvas\";\n\n\nexport const BASE_URL = process.env.NODE_ENV === \"production\" ? \"/api\" : \"http://localhost:8080/api\";\n\nconst styles = themes => {\n    return {\n        frames: {\n            marginTop: themes.margin,\n        },\n        header: {\n            paddingLeft: themes.padding\n        },\n        frameContent: {\n            padding: themes.padding,\n        },\n        heading: {\n            \"@global\": {\n                \"h1\": {\n                    width:\"100%\",\n                    \"@global\": {\n                        span: {\n                            width: \"100%\",\n                        }\n                    }\n                }\n            },\n            width: \"100%\",\n        },\n        controls: {\n            display: \"flex\",\n            justifyContent: \"center\",\n            marginTop: themes.margin\n        },\n\n        controlElements: {\n            marginLeft: themes.margin,\n            marginRight: themes.margin,\n            cursor: \"pointer\"\n        }\n\n    };\n};\n\nconst computeRoundData = (round) => {\n    const ships      = [[0,0,0],[0,0,0],[0,0,0]];\n    const planets    = [0,0,0];\n    const fleets     = [0,0,0];\n    const production = [[0,0,0],[0,0,0],[0,0,0]];\n    const add = (a,b) => {\n        a[0] += b[0];\n        a[1] += b[1];\n        a[2] += b[2];\n    };\n\n    for (let fi = 0; fi < round.fleets.length; fi++) {\n        const fleet = round.fleets[fi];\n        fleets[fleet.owner_id] += 1;\n        add(ships[fleet.owner_id], fleet.ships);\n    }\n    for (let pi = 0; pi < round.planets.length; pi++) {\n        const planet = round.planets[pi];\n        planets[planet.owner_id] += 1;\n        add(ships[planet.owner_id], planet.ships);\n        add(production[planet.owner_id], planet.production);\n    }\n\n    return [\n        round[\"game_over\"] ? \"Final Standings\" : round.round,\n        ships[0][0] + ships[0][1] + ships[0][2] + ships[1][0] + ships[1][1] + ships[1][2] + ships[2][0] + ships[2][1] + ships[2][2],\n        planets[1], planets[2],\n        ships[1].join(\",\"), ships[2].join(\",\"),\n        production[1].join(\",\"), production[2].join(\",\"),\n        fleets[1],fleets[2]\n    ];\n};\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n        case 'incrementMove':\n            if (!state.game || !state.game.length) return state;\n            return {...state, turn: Math.min(state.game.length-1, state.turn + 1),\n                playback: state.playback && (!state.game || !state.turn || state.turn + 1 >= state.game.length || !state.game[state.turn + 1].game_over)};\n        case 'setMove': {\n            return {...state, turn: action.value};\n        }\n        case 'decrementMove':\n            return {...state, turn: Math.max(0, state.turn - 1), playback: false};\n        case 'setMove':\n            return {...state, turn: action.value, playback: false};\n        case 'togglePlayback': {\n            return {...state, playback: !state.playback};\n        }\n        case 'setPlayback': {\n            return {...state, playback: action.value};\n        }\n        case 'updateGame': {\n            return {...state, game: [...(state.game || []), ...action.value]};\n        }\n        case 'setGameId': {\n            console.log(\"setting gameId\", action);\n            return {...state, gameId: action.value, game: undefined};\n        }\n        default:\n            throw Error();\n    }\n};\n\nexport const Game = withStyles(styles)(({show, classes, showLatest}) => {\n    const {id, playerName} = useParams();\n    const [{turn, playback, game, gameId}, dispatch] = useReducer(reducer, {turn: 0, playback: false, game: undefined, gameId: id});\n    const history = useHistory();\n    const [info, setInfo] = useState(undefined);\n\n    const loadLatestGameForPlayer = useCallback(async () => {\n        if (playerName === undefined) return;\n        const data = await fetch(`${BASE_URL}/player/${playerName}/latest_game.json`) ;\n        const json = await data.json();\n\n        if (gameId !== json.last && json.last && (!game || !turn || (game.length && game[turn][\"game_over\"]) || !playback)) {\n            dispatch({type: 'setGameId', value: json.last});\n            dispatch({type: 'setPlayback', value: true});\n            dispatch({type: 'setMove', value: 0});\n            setInfo(null);\n        }\n    }, [game, turn, playerName, playback, setInfo]);\n\n    useInterval(loadLatestGameForPlayer, playerName === undefined ? null : 3000, true);\n\n    const loadLatestGame = useCallback(async () => {\n        if (!showLatest) return;\n        const data = await fetch(`${BASE_URL}/info.json`) ;\n        const json = await data.json();\n\n        const lastGameId = json && json.last_games && json.last_games.length && json.last_games[0] &&  json.last_games[0].game_id;\n\n        if (gameId !== lastGameId && lastGameId && (!game || !turn || (game.length && game[turn][\"game_over\"]) || !playback)) {\n            dispatch({type: 'setGameId', value: lastGameId});\n            dispatch({type: 'setPlayback', value: true});\n            dispatch({type: 'setMove', value: 0});\n            setInfo(null);\n        }\n    }, [turn, game, playback, setInfo]);\n\n    useInterval(loadLatestGame, !showLatest ? null : 3000, true);\n\n    const loadInfo = useCallback(async () => {\n        if (gameId !== undefined) {\n            const data = await fetch(`${BASE_URL}/game/${gameId}/info.json`);\n            const json = await data.json();\n            if (setInfo) setInfo(json);\n        }\n    }, [gameId, setInfo]);\n\n    useInterval(loadInfo, info && info.finished ? null : 1000, true);\n\n    const loadGameData = useCallback(async () => {\n        if (gameId !== undefined) {\n            const data = await fetch(`${BASE_URL}/game/${gameId}/rounds/${game && game.length || 0}`);\n            const json = await data.json();\n            dispatch({type: 'updateGame', value: json});\n        }\n    }, [gameId, game]);\n\n    useInterval(loadGameData, game && game.length && game[game.length -1]['game_over'] ? null : 500, true);\n\n    useInterval(() => playback && dispatch({type: 'incrementMove'}), playback? 10: null);\n\n    return (\n        <Container>\n            <Frame\n                animate={true}\n                level={3}\n                corners={4}\n                show={show}\n                layer='primary'>\n                {(anim) => <GameHeader playerName={playerName} className={classes.header} info={info} history={history} show={anim.entered} arwesShow={show}/>}\n            </Frame>\n\n            <Frame\n                animate={true}\n                level={3}\n                corners={4}\n                show={show}\n                layer='primary'>\n                {(anim) =>\n                    <div className={classes.frameContent}>\n                        {show && <div className={classes.controls}>\n                            <Button animate layer='primary' onClick={() => dispatch({type: 'decrementMove'})} show={anim.entered}>\n                                {anim.entered && <FontAwesomeIcon className={classes.controlElements} icon={faChevronLeft} size=\"lg\"/>}\n                            </Button>\n                            <Button animate layer='primary' onClick={() => dispatch({type: 'togglePlayback'})} show={anim.entered}>\n                                {anim.entered && <FontAwesomeIcon fixedWidth className={classes.controlElements} icon={playback ? faPauseCircle : faPlay} size=\"lg\"/>}\n                            </Button>\n                            <Button animate layer='primary' onClick={() => dispatch({type: 'incrementMove'})} show={anim.entered}>\n                                {anim.entered && <FontAwesomeIcon className={classes.controlElements} icon={faChevronRight} size=\"lg\"/>}\n                            </Button>\n                        </div>}\n                        <GameGraph game={game} turn={turn} dispatch={dispatch} show={anim.entered} arwesShow={show}/>\n                    </div>\n                }\n            </Frame>\n\n            <Frame\n                className={classes.frames}\n                show={show}\n                animate={true}\n                level={3}\n                corners={4}\n                layer='primary'>\n                {(anim) => anim.entered && (game ?\n                        <GameCanvas turn={game[turn]} info={info} gameId={gameId}/> :\n                        show && <Loading animate/> || null\n                )}\n            </Frame>\n\n            <Frame\n                className={classes.frames}\n                show={show}\n                animate\n                level={3}\n                corners={4}\n                layer='primary'>\n                {(anim) => anim.entered && (info && game && game[turn] ?\n                        <div className={classes.frameContent}>\n                            <Table animate\n                                   headers={[\n                                       \"Round\",\n                                       \"Total Fleets\",\n                                       <Words layer=\"success\"><div>Planets</div>{`${info[\"player1\"]}`}</Words>,\n                                       <Words layer=\"alert\"><div>Planets</div>{`${info[\"player2\"]}`}</Words>,\n                                       <Words layer=\"success\"><div>Ships</div>{`${info[\"player1\"]}`}</Words>,\n                                       <Words layer=\"alert\"><div>Ships</div>{`${info[\"player2\"]}`}</Words>,\n                                       <Words layer=\"success\"><div>Production</div>{`${info[\"player1\"]}`}</Words>,\n                                       <Words layer=\"alert\"><div>Production</div>{`${info[\"player2\"]}`}</Words>,\n                                       <Words layer=\"success\"><div>Fleets</div>{`${info[\"player1\"]}`}</Words>,\n                                       <Words layer=\"alert\"><div>Fleets</div>{`${info[\"player2\"]}`}</Words>,\n                                   ]}\n                                   dataset={[computeRoundData(game[turn])]}/>\n                        </div>:\n                        show && <Loading animate/> || null\n                )\n                }\n            </Frame>\n\n        </Container>\n    );\n});\n","import React from 'react';\n\nimport { Container } from './container';\n\nexport const PageWrapper = ({children}) => <Container>{children}</Container>;\n","import {Heading, Link, Loading, Table, Words, withStyles} from '@arwes/arwes';\nimport {useHistory} from 'react-router-dom';\nimport React, {memo, useRef, useState} from 'react';\n\nimport {useInterval} from '../hooks/useInterval';\n\nconst styles = themes => ({\n    firstPlace: {\n        textTransform: 'uppercase',\n    },\n});\n\nexport const PlayerScoreboard = withStyles(styles)(\n    memo(({title, show, scoreboardData, classes, isGlobalRanking}) => {\n        const history = useHistory();\n        const [displayedTableItems, setDisplayedTableItems] = useState(0);\n        const refDisplayedTableItems = useRef(0);\n        useInterval(() => {\n            if (\n                scoreboardData &&\n                refDisplayedTableItems.current < scoreboardData.length\n            ) {\n                setDisplayedTableItems(refDisplayedTableItems.current + 1);\n                refDisplayedTableItems.current =\n                    refDisplayedTableItems.current + 1;\n            }\n        }, show ? 100 : null);\n\n        return (\n            <>\n                <Heading node={'h3'}>{title}</Heading>\n                {show && (scoreboardData ? (\n                    <Table\n                        animate\n                        headers={[]}\n                        dataset={scoreboardData.map((entry, index) => [\n                            index,\n                            <Link\n                                onClick={() =>\n                                    history.push(`/player/${entry[0]}`)\n                                }>\n                                <Words\n                                    animate\n                                    layer={\n                                        isGlobalRanking && index < 3\n                                            ? 'success'\n                                            : 'primary'\n                                    }\n                                    className={\n                                        isGlobalRanking && index === 0\n                                            ? classes.firstPlace\n                                            : ''\n                                    }\n                                    show={show && displayedTableItems > index}>\n                                    {entry[0]}\n                                </Words>\n                            </Link>,\n\n                            entry[1].toFixed(3),\n                        ])}\n                    />\n                ) : (\n                    <Loading />\n                ))}\n            </>\n        );\n    }),\n);\n","// NOTE (LinuCC) Copied from arwes\n\nimport { withStyles } from '@arwes/arwes';\nimport AnimationComponent from '@arwes/arwes/lib/Animation';\nimport React from 'react';\nimport cx from 'classnames';\nimport styles from '@arwes/arwes/lib/Table/styles';\n\nconst Table = withStyles(styles)((props) => {\n  const {\n    theme,\n    classes,\n    Animation,\n    animation,\n    animate,\n    show,\n    headers,\n    dataset,\n    minWidth,\n    className,\n    children,\n    ...etc\n  } = props;\n  const cls = cx(classes.root, className);\n\n  return (\n    <Animation\n      animate={animate}\n      show={show}\n      timeout={theme.animTime}\n      {...animation}\n    >\n      {anim => (\n        <div className={cx(cls, classes[anim.status])} {...etc}>\n          <div style={{ minWidth }}>\n            {!children && (\n              <table>\n                <thead>\n                  <tr>\n                    {headers.map((header, index) => (\n                      <th key={index}>{header}</th>\n                    ))}\n                  </tr>\n                </thead>\n                <tbody>\n                  {dataset\n                    .filter(item => !!item)\n                    .map((item, index) => (\n                  item.key && item.value ? (\n                      <tr key={item.key}>\n                        {item.value.map((value, index2) => (\n                        value.key && value.value ? (\n                          <td key={value.key}>{value.value}</td>\n                        ) : (\n                          <td key={index2}>{value}</td>\n                        )\n                        ))}\n                      </tr>\n                  ) : (\n                      <tr key={index}>\n                        {item.map((value, index2) => (\n                          <td key={index2}>{value}</td>\n                        ))}\n                      </tr>\n                  )\n                    ))}\n                </tbody>\n              </table>\n            )}\n            {children}\n          </div>\n        </div>\n      )}\n    </Animation>\n  );\n});\n\n// Table.propTypes = {\n//   Animation: PropTypes.any.isRequired,\n//\n//   theme: PropTypes.any.isRequired,\n//   classes: PropTypes.any.isRequired,\n//\n//   animate: PropTypes.bool,\n//   show: PropTypes.bool,\n//   animation: PropTypes.object,\n//\n//   /**\n//    * List of heading titles.\n//    */\n//   headers: PropTypes.array,\n//\n//   /**\n//    * List of rows with their lists of columns.\n//    */\n//   dataset: PropTypes.arrayOf(PropTypes.array),\n//\n//   /**\n//    * The table component can be the 100% width container.\n//    * Configure the min width of the content, if case the container width is less\n//    * than this minWidth, a horizontal scroll will appear.\n//    */\n//   minWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n//\n//   /**\n//    * If the actual HTML `<table />` is provided, the `headers` and `dataset`\n//    * are ignored.\n//    */\n//   children: PropTypes.any,\n//\n//   className: PropTypes.any\n// };\n\nTable.defaultProps = {\n  Animation: AnimationComponent,\n  show: true,\n  headers: [],\n  dataset: []\n};\n\n  export default Table;\n","import {Heading, Link, Loading, withStyles} from '@arwes/arwes';\nimport {useHistory} from 'react-router-dom';\nimport React, { memo, useRef, useState } from 'react';\n\nimport {SoundWords} from './';\nimport {useInterval} from '../hooks/useInterval';\nimport Table from './Table';\n\nconst styles = theme =>\n    console.info(theme.color) || {\n        versusColumnEntry: {\n            display: 'flex',\n            justifyContent: 'space-evenly',\n        },\n        eloLost: {\n            color: theme.color.secondary.light,\n        },\n    };\n\nexport const RecentGames = withStyles(styles)(\n    memo(({title, show, lastGamesData, classes, focusedPlayer}) => {\n        const history = useHistory();\n        const [displayedTableItems, setDisplayedTableItems] = useState(0);\n        const refDisplayedTableItems = useRef(0);\n        useInterval(() => {\n            if (\n                lastGamesData &&\n                refDisplayedTableItems.current < lastGamesData.length\n            ) {\n                setDisplayedTableItems(refDisplayedTableItems.current + 1);\n                refDisplayedTableItems.current =\n                    refDisplayedTableItems.current + 1;\n            }\n        }, show ? 100 : null);\n\n        return (\n            <>\n                <Heading node={'h3'}>{title}</Heading>\n                {show &&\n                    (lastGamesData ? (\n                        <Table\n                            animate\n                            dataset={lastGamesData.map(\n                                (\n                                    {game_id, player1, player2, elodiff},\n                                    index,\n                                ) => {\n                                    const [\n                                        leftPlayer,\n                                        rightPlayer,\n                                        elodelta,\n                                    ] =\n                                        !focusedPlayer ||\n                                        focusedPlayer === player1\n                                            ? [player1, player2, elodiff, false]\n                                            : [\n                                                  player2,\n                                                  player1,\n                                                  -elodiff,\n                                              ];\n                                    return {\n                                        key: `${game_id}`,\n                                        value: [\n                                            <Link\n                                                href=\"javascript:void(0)\"\n                                                onClick={() =>\n                                                    history.push(\n                                                        `/game/${game_id}`,\n                                                    )\n                                                }>\n                                                {game_id}\n                                            </Link>,\n                                            <div\n                                                className={\n                                                    classes.versusColumnEntry\n                                                }>\n                                                <Link\n                                                    href=\"javascript:void(0)\"\n                                                    onClick={() =>\n                                                        history.push(\n                                                            `/player/${leftPlayer}`,\n                                                        )\n                                                    }>\n                                                    <SoundWords\n                                                        layer={\n                                                            leftPlayer === player1\n                                                                ? 'success'\n                                                                : 'alert'\n                                                        }\n                                                        animate\n                                                        show={\n                                                            show &&\n                                                            displayedTableItems >\n                                                                index\n                                                        }>\n                                                        {leftPlayer}\n                                                    </SoundWords>\n                                                </Link>{' '}\n                                                <sub>\n                                                    {show &&\n                                                        displayedTableItems >\n                                                            index &&\n                                                        'vs'}\n                                                </sub>{' '}\n                                                <Link\n                                                    href=\"javascript:void(0)\"\n                                                    onClick={() =>\n                                                        history.push(\n                                                            `/player/${rightPlayer}`,\n                                                        )\n                                                    }>\n                                                    <SoundWords\n                                                        layer={\n                                                            rightPlayer === player1\n                                                                ? 'success'\n                                                                : 'alert'\n                                                        }\n                                                        animate\n                                                        show={\n                                                            show &&\n                                                            displayedTableItems >\n                                                                index\n                                                        }>\n                                                        {rightPlayer}\n                                                    </SoundWords>\n                                                </Link>\n                                            </div>,\n                                            <span\n                                                className={\n                                                    elodelta < 0 &&\n                                                    classes.eloLost\n                                                }>\n                                                {elodelta\n                                                    ? elodelta > 0\n                                                      ? `+${elodelta.toFixed(\n                                                            3,\n                                                        )}`\n                                                      : elodelta.toFixed(3)\n                                                    : '---'}\n                                            </span>,\n                                        ],\n                                    };\n                                },\n                            )}\n                        />\n                    ) : (\n                        <Loading />\n                    ))}\n            </>\n        );\n    }),\n);\n","import {\n    Col,\n    Frame,\n    Heading,\n    Link,\n    Loading,\n    Row,\n    withStyles,\n} from '@arwes/arwes';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {faChevronRight} from '@fortawesome/free-solid-svg-icons';\nimport {useDebounce} from 'use-debounce';\nimport {useHistory} from 'react-router-dom';\nimport React, {useEffect, useState, useCallback} from 'react';\n\nimport {BASE_URL} from './Game';\nimport {PageWrapper} from './components/PageWrapper';\nimport {PlayerScoreboard} from './components/PlayerScoreboard';\nimport {RecentGames} from './components/RecentGames';\nimport {SoundWords} from './components';\nimport {useInterval} from './hooks/useInterval';\n\nconst styles = theme => ({\n    frameContent: {\n        padding: theme.padding,\n    },\n\n    recentGamesContainer: {\n        display: 'flex',\n    },\n    title: {flexGrow: 1},\n    latestLink: {\n        textTransform: 'initial',\n    },\n});\n\nconst HomePageRecentGamesTitle = ({classes, show}) => {\n    const history = useHistory();\n    return (\n        <div className={classes.recentGamesContainer}>\n            <div className={classes.title}>Recent games</div>\n            <div>\n                <Link\n                    onClick={() => history.push(`/game/latest`)}\n                    className={classes.latestLink}>\n                    <SoundWords animate show={show}>\n                        Watch latest\n                    </SoundWords>{' '}\n                      {show && <FontAwesomeIcon\n                            icon={faChevronRight}\n                        />}\n                </Link>\n            </div>\n        </div>\n    );\n};\n\nconst HomePageFrameContent = ({show, classes, gameData}) => {\n    // Smoother animations\n    const [delayedShow] = useDebounce(show, 200);\n    const [delayedShow2] = useDebounce(show, 400);\n    return (\n        <div className={classes.frameContent}>\n            <p>\n                <SoundWords animate show={show}>\n                    Total of\n                </SoundWords>{' '}\n                {gameData ? (\n                    <SoundWords animate show={show}>\n                        {gameData.num_games.toString()}\n                    </SoundWords>\n                ) : (\n                    show && <Loading small />\n                )}{' '}\n                <SoundWords animate show={show}>\n                    games played.\n                </SoundWords>\n            </p>\n            <Row>\n                <Col s={12} m={12} l={6}>\n                    <PlayerScoreboard\n                        isGlobalRanking\n                        title={'Top 40'}\n                        show={delayedShow}\n                        scoreboardData={gameData ? gameData.highscores : null}\n                    />\n                </Col>\n                <Col s={12} m={12} l={6}>\n                    <RecentGames\n                        title={<HomePageRecentGamesTitle show={show} classes={classes} />}\n                        show={delayedShow2}\n                        lastGamesData={gameData ? gameData.last_games : null}\n                    />\n                </Col>\n            </Row>\n        </div>\n    );\n};\n\nexport const HomePage = withStyles(styles)(({show, classes}) => {\n    const [gameData, setGameData] = useState(null);\n    const loadData = useCallback(async () => {\n        const data = await fetch(`${BASE_URL}/info.json`);\n        const json = await data.json();\n        setGameData(json);\n    }, []);\n    useInterval(loadData, gameData && gameData.finished ? null : 2500);\n    useEffect(\n        () => {\n            setGameData(null);\n            loadData();\n        },\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [],\n    );\n\n    return (\n        <PageWrapper>\n            <Heading node=\"h1\">\n                <SoundWords animate show={show}>\n                    Rocket Paper Spacegoo\n                </SoundWords>\n            </Heading>\n            <Frame animate show={show} layer=\"primary\" corners={5} level={3}>\n                {anim => (\n                    <HomePageFrameContent\n                        show={anim.entered}\n                        gameData={gameData}\n                        classes={classes}\n                    />\n                )}\n            </Frame>\n        </PageWrapper>\n    );\n});\n","import {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {\n    Header,\n    Heading,\n    Link as ArwesLink,\n    Logo,\n    withStyles,\n} from '@arwes/arwes';\nimport {faRocket, faSatellite} from '@fortawesome/free-solid-svg-icons';\nimport {useHistory, Link as RouterLink} from 'react-router-dom';\nimport React, {useState} from 'react';\n\nimport {Container} from './container';\nimport {SoundWords} from './';\n\nconst styles = themes => ({\n    root: {\n        marginBottom: themes.margin,\n    },\n    container: {\n        display: 'flex',\n    },\n    logo: {margin: [themes.margin / 2, themes.margin, themes.margin / 2, 0]},\n    headingText: {\n        marginBottom: 0,\n        flexGrow: 1,\n        '@global': {\n            span: {\n                paddingTop: 3,\n            },\n        },\n    },\n    linkContainer: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    link: {\n        margin: [0, themes.margin],\n    },\n    linkIcon: {\n        marginRight: themes.margin / 2,\n    },\n});\n\nconst names = [\n    'Rock Paper Spacegoo',\n    'Rock Paper Scissors',\n    'Rolling Pickles Sensually',\n    'Rethink Play Station',\n    'Radical Peter Spinning',\n    'Rocket Propulsion Solution',\n];\n\nexport const NavBar = withStyles(styles)(({show, classes}) => {\n    const history = useHistory();\n    const [name, setName] = useState(names[0]);\n    return (\n        <Header animate className={classes.root}>\n            <Container className={classes.container}>\n                <Heading node=\"h4\" className={classes.headingText}>\n                    <Logo\n                        className={classes.logo}\n                        animate\n                        size={50}\n                        onClick={() =>\n                            setName(\n                                names[Math.floor(Math.random() * names.length)],\n                            )\n                        }\n                    />\n                    <ArwesLink href=\"#\" onClick={() => history.push('/')}>\n                        <SoundWords\n                            animate\n                            style={{marginLeft: '5px'}}\n                            show={show}>\n                            {name}\n                        </SoundWords>\n                    </ArwesLink>\n                </Heading>\n                <div className={classes.linkContainer}>\n                    <ArwesLink\n                        className={classes.link}\n                        animate\n                        href=\"https://github.com/qr4/rocket-scissor-spacegoo\">\n                        <FontAwesomeIcon\n                            className={classes.linkIcon}\n                            icon={faSatellite}\n                        />\n                        SourceCode\n                    </ArwesLink>\n                    <ArwesLink\n                        className={classes.link}\n                        href=\"#\"\n                        onClick={() => history.push('/')}>\n                        <FontAwesomeIcon\n                            className={classes.linkIcon}\n                            icon={faRocket}\n                        />\n                        Home\n                    </ArwesLink>\n                </div>\n            </Container>\n        </Header>\n    );\n});\n","import {\n    Col,\n    Link,\n    Loading,\n    Project,\n    Row,\n    Words,\n    withStyles,\n} from '@arwes/arwes';\nimport {useParams, useHistory} from 'react-router-dom';\nimport React, {useState, useEffect, useCallback} from 'react';\n\nimport {BASE_URL} from './Game';\nimport {PageWrapper} from './components/PageWrapper';\nimport {PlayerScoreboard} from './components/PlayerScoreboard';\nimport {RecentGames} from './components/RecentGames';\nimport {SoundWords} from './components';\nimport {useInterval} from './hooks/useInterval';\n\nconst styles = theme => ({\n    versusColumnEntry: {\n        display: 'flex',\n        justifyContent: 'space-evenly',\n    },\n    summary: {\n        marginTop: theme.margin,\n        marginBottom: theme.margin * 2,\n    },\n    rankLoading: {\n        padding: [0, theme.padding / 2],\n    },\n});\n\nexport const PlayerPage = withStyles(styles)(({show, classes}) => {\n    const {playerName} = useParams();\n\n    const history = useHistory();\n    const [showContent, setShowContent] = useState(false);\n    // Add a nice delay to between Heading and Content animation\n    useEffect(\n        () => {\n            if (show && !showContent) {\n                setTimeout(() => {\n                    setShowContent && setShowContent(true);\n                }, 1000);\n            }\n        },\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [show],\n    );\n\n    const [playerData, setPlayerData] = useState(null);\n    const loadData = useCallback(\n        async () => {\n            const data = await fetch(\n                `${BASE_URL}/player/${playerName}/info.json`,\n            );\n            const json = await data.json();\n            setPlayerData(json);\n        },\n        [playerName],\n    );\n    useInterval(loadData, playerData && playerData.finished ? null : 5000);\n    useEffect(\n        () => {\n            setPlayerData(null);\n            loadData();\n        },\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [playerName],\n    );\n\n    return (\n        <PageWrapper>\n            <Project show={show} animate header={playerName}>\n                {playerData\n                    ? anim => (\n                          <>\n                              <div className={classes.summary}>\n                                  <SoundWords animate show={show}>\n                                      {`Total of ${\n                                          playerData.num_games\n                                      } played.`}\n                                  </SoundWords>{' '}\n                                  <SoundWords animate show={anim.entered}>\n                                      Ranked\n                                  </SoundWords>{' '}\n                                  {showContent ? (\n                                      <SoundWords\n                                          animate\n                                          show={showContent}\n                                          layer={\n                                              playerData.rank <= 3\n                                                  ? 'success'\n                                                  : null\n                                          }>\n                                          {`#${\n                                              playerData.rank\n                                                  ? playerData.rank.toString()\n                                                  : ''\n                                          }.`}\n                                      </SoundWords>\n                                  ) : (\n                                      show && (\n                                          <span className={classes.rankLoading}>\n                                              <Loading animate small />\n                                          </span>\n                                      )\n                                  )}{' '}\n                                  <SoundWords animate show={anim.entered}>\n                                      View\n                                  </SoundWords>{' '}\n                                  <Link\n                                      onClick={() =>\n                                          history.push(\n                                              `/player/${\n                                                  playerData.username\n                                              }/live`,\n                                          )\n                                      }>\n                                      <SoundWords animate show={anim.entered}>\n                                          {`${playerData.username}'s games`}\n                                      </SoundWords>\n                                  </Link>{' '}\n                                  <SoundWords animate show={anim.entered}>\n                                      live.\n                                  </SoundWords>\n                              </div>\n                              <Row>\n                                  <Col s={12} m={12} l={6}>\n                                      <PlayerScoreboard\n                                          title={\n                                              <Words\n                                                  animate\n                                                  show={\n                                                      showContent\n                                                  }>{`${playerName}'s scoreboard`}</Words>\n                                          }\n                                          show={showContent}\n                                          classes={classes}\n                                          scoreboardData={playerData.highscores}\n                                      />\n                                  </Col>\n                                  <Col s={12} m={12} l={6}>\n                                      <RecentGames\n                                          title={\n                                              <Words\n                                                  animate\n                                                  show={\n                                                      showContent\n                                                  }>{`${playerName}'s recent games`}</Words>\n                                          }\n                                          show={showContent}\n                                          classes={classes}\n                                          lastGamesData={playerData.last_games}\n                                          focusedPlayer={playerName}\n                                      />\n                                  </Col>\n                              </Row>\n                          </>\n                      )\n                    : show && <Loading />}\n            </Project>\n        </PageWrapper>\n    );\n});\n","import \"./App.css\";\n\nimport {Arwes, ThemeProvider, createTheme} from '@arwes/arwes';\nimport {Howl} from 'howler';\nimport {Route, BrowserRouter as Router, Switch} from 'react-router-dom';\nimport React, {useState, useEffect} from 'react';\n\nimport { SoundsProvider } from \"@arwes/sounds\";\n\nimport { Game } from \"./Game\";\nimport { HomePage } from './HomePage';\nimport { NavBar } from './components/nav_bar';\nimport {PlayerPage} from './PlayerPage';\n\nconst players = {\n    ask: new Howl({ src: [`${process.env.PUBLIC_URL}/sounds/ask.mp3`] }),\n    click: new Howl({ src: [`${process.env.PUBLIC_URL}/sounds/click.mp3`] }),\n    deploy: new Howl({ src: [`${process.env.PUBLIC_URL}/sounds/deploy.mp3`] }),\n    error: new Howl({ src: [`${process.env.PUBLIC_URL}/sounds/error.mp3`] }),\n    information: new Howl({\n        src: [`${process.env.PUBLIC_URL}/sounds/information.mp3`]\n    }),\n    typing: new Howl({ src: [`${process.env.PUBLIC_URL}/sounds/typing.mp3`] }),\n    warning: new Howl({ src: [`${process.env.PUBLIC_URL}/sounds/warning.mp3`] })\n};\nconst audio = {\n    mute: false\n};\n\nconst AppWrapper = () => (\n    <ThemeProvider theme={createTheme()}>\n        <SoundsProvider players={players} audio={audio}>\n            <Arwes\n                animate\n                background=\"/background-large.jpg\"\n                pattern=\"/glow.png\">\n                {anim => <App wrapperAnimEntered={anim.entered} />}\n            </Arwes>\n        </SoundsProvider>\n    </ThemeProvider>\n);\n\nfunction App({wrapperAnimEntered}) {\n    const [showContent, setShowContent] = useState(false);\n    // Add a nice delay to between Heading and Content animation\n    useEffect(\n        () => {\n            if (wrapperAnimEntered && !showContent) {\n                setTimeout(() => {\n                    setShowContent && setShowContent(true);\n                }, 250);\n            }\n        },\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [wrapperAnimEntered],\n    );\n\n    return (\n        <Router>\n            <NavBar show={wrapperAnimEntered} />\n            <Switch>\n                <Route path=\"/player/:playerName/live\">\n                    <Game show={showContent} />\n                </Route>\n                <Route path=\"/player/:playerName\">\n                    <PlayerPage show={showContent} />\n                </Route>\n                <Route path=\"/game/latest\">\n                    <Game show={showContent} showLatest/>\n                </Route>\n                <Route path=\"/game/:id\">\n                    <Game show={showContent}/>\n                </Route>\n                <Route path=\"/\">\n                    <HomePage show={showContent} />\n                </Route>\n            </Switch>\n        </Router>\n    );\n}\n\nexport default AppWrapper;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport AppWrapper from './App';\n\nReactDOM.render(<AppWrapper />, document.getElementById('root'));\n"],"sourceRoot":""}